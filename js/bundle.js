(()=>{"use strict";function e(e,t){document.querySelector(e).classList.add("show"),t&&clearInterval(t)}function t(e){const t=document.querySelector(e);t.classList.remove("show"),t.classList.add("hide")}const n=function(e){const n=document.querySelectorAll(e);function o(e){const n=document.querySelector(".modal__dialog");n.classList.add("hide");const o=document.createElement("div");o.classList.add("modal__dialog"),o.innerHTML=` <div class="modal__content">\n            <div class="modal__close" data-close>&times;</div>\n            <div class="modal__title">${e}</div>\n            </div>`,document.querySelector(".modal").append(o),setTimeout((()=>{o.remove(),n.classList.add("show"),n.classList.remove("hide"),t(".modal")}),3e3)}n.forEach((e=>{var t;(t=e).addEventListener("submit",(e=>{e.preventDefault();let n=document.createElement("div");n.classList.add("status"),n.textContent="Загрузка",t.append(n);const c=new FormData(t);(async function(e,t){const n=await fetch("http://localhost:3000/requests",{method:"POST",headers:{"Content-type":"application/json"},body:t});return await n.json()})(0,JSON.stringify(Object.fromEntries(c.entries()))).then((e=>o("Успех"))).catch((()=>o("что-то пошло не так"))),t.reset(),setTimeout((()=>n.textContent=""),3e3)}))}))};window.addEventListener("DOMContentLoaded",(()=>{const o=setInterval((()=>e(".modal",o)),5e8);(function(){const e=document.querySelector(".calculating__result span");let t,n,o,c,r;function s(){e.textContent=t&&n&&o&&c&&r?Math.round((447.6+9.2*o+3.1*n-4.3*c)*r):"____"}function i(e,t){document.querySelectorAll(e).forEach((e=>{e.classList.remove(t),e.getAttribute("id")==localStorage.getItem("sex")&&e.classList.add(t),e.getAttribute("data-ratio")==localStorage.getItem("ratio")&&e.classList.add(t)}))}function l(e,n){const o=document.querySelectorAll(e);o.forEach((e=>{e.addEventListener("click",(e=>{e.target.getAttribute("data-ratio")?(r=+e.target.getAttribute("data-ratio"),localStorage.setItem("ratio",r)):(t=e.target.getAttribute("id"),console.log(t),localStorage.setItem("sex",t)),o.forEach((e=>{e.classList.remove(n)})),e.target.classList.add(n),s()}))}))}function a(e){const t=document.querySelector(e);t.addEventListener("input",(e=>{switch(console.log(e.target),t.value.match(/\D/g)?t.style.border="1px solid red":t.style.border="none",e.target.getAttribute("id")){case"height":n=+t.value;break;case"weight":o=+t.value;break;case"age":c=+t.value}s()}))}s(),i("#gender div","calculating__choose-item_active"),i(".calculating__choose_big div","calculating__choose-item_active"),l("#gender div","calculating__choose-item_active"),l(".calculating__choose_big div","calculating__choose-item_active"),a("#height"),a("#weight"),a("#age")})(),function(){const e=document.querySelector(".menu").querySelector(".container");(async function(e){const t=await fetch("http://localhost:3000/menu");return await t.json()})().then((t=>{t.forEach((t=>{let n=document.createElement("div");var o;n.classList.add("menu__item"),n.innerHTML=`<div class="menu__item">\n                    <img src="${(o=t).img}" alt="vegy">\n                    <h3 class="menu__item-subtitle">Меню ${o.title}</h3>\n                    <div class="menu__item-descr">${o.descr}</div>\n                    <div class="menu__item-divider"></div>\n                    <div class="menu__item-price">\n                        <div class="menu__item-cost">Цена:</div>\n                        <div class="menu__item-total"><span>${o.price}</span> грн/день</div>\n                    </div>\n                </div>`,e.append(n)}))}))}(),n("form"),function(n,o,c){const r=document.querySelectorAll(n),s=document.querySelector(o);document.querySelector(".menu").querySelector(".container"),r.forEach((t=>{t.addEventListener("click",(()=>e(o,c)))})),s.addEventListener("click",(e=>{(e.target.classList.contains("modal")||""==e.target.getAttribute("data-close"))&&t(o)})),document.addEventListener("keydown",(e=>{27==e.keyCode&&t(o)})),window.addEventListener("scroll",(t=>{document.documentElement.scrollTop+document.documentElement.clientHeight==document.documentElement.scrollHeight-1&&e(o,c)}))}(".btn",".modal",o),function({prevSelector:e,sliderSelector:t,nextSelector:n,currentSelector:o,totalSelector:c,slidesSelector:r,slidesFieldSelector:s,slidesWrapperSelector:i}){const l=document.querySelector(e),a=document.querySelector(t),d=document.querySelector(n),u=document.querySelector(o),m=document.querySelector(c),h=document.querySelectorAll(r),g=document.querySelector(s),f=document.querySelector(i),v=window.getComputedStyle(f).width;let _=1,y=0;m.innerText="0"+h.length,u.innerText="0"+_,g.style.width=100*h.length+"%",g.style.display="flex",g.style.transition="0.5s all",f.style.overflow="hidden",h.forEach((e=>{e.style.width=v})),a.style.position="relative",E(_);const p=document.createElement("ol"),S=[];p.classList.add("carousel-indicators"),p.style.cssText="\n        position: absolute;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        z-index: 15;\n        display: flex;\n        justify-content: center;\n        margin-right: 15%;\n        margin-left: 15%;\n        list-style: none;",a.append(p);for(let e=0;e<h.length;e++){const t=document.createElement("li");t.setAttribute("data-slide-to",e+1),t.style.cssText="\n        box-sizing: content-box;\n        flex: 0 1 auto;\n        width: 30px;\n        height: 6px;\n        margin-right: 3px;\n        margin-left: 3px;\n        cursor: pointer;\n        background-color: #fff;\n        background-clip: padding-box;\n        border-top: 10px solid transparent;\n        border-bottom: 10px solid transparent;\n        opacity: .5;\n        transition: opacity .6s ease;",0==e&&(t.style.opacity=1),p.append(t),S.push(t)}function L(e){1==_&&-1==e?_=h.length:-1==e&&_--,_==h.length&&0==e?_=1:0==e&&_++,E(e),b(_-1,S),u.innerText="0"+_}function b(e,t){t.forEach((e=>{e.style.opacity=".5"})),t[e].style.opacity=1}function E(e){0==y&&-1==e?y=q(v)*(h.length-1):-1==e&&(y-=q(v)),y==q(v)*(h.length-1)&&0==e?y=0:0==e&&(y+=q(v)),g.style.transform=`translateX(-${y}px)`}function q(e){return+e.replace(/\D/g,"")}l.addEventListener("click",(e=>{L(-1)})),d.addEventListener("click",(e=>{L(0)})),S.forEach((e=>{e.addEventListener("click",(e=>{const t=e.target.getAttribute("data-slide-to");_=t,y=q(v)*(t-1),g.style.transform=`translateX(-${y}px)`,b(_-1,S),u.innerText="0"+_}))}))}({prevSelector:".offer__slider-prev",sliderSelector:".offer__slider",nextSelector:".offer__slider-next",currentSelector:"#current",totalSelector:"#total",slidesSelector:".offer__slide",slidesFieldSelector:".offer__slider-inner",slidesWrapperSelector:".offer__slider-wrapper"}),function(e,t,n,o){const c=document.querySelectorAll(e),r=document.querySelector(t),s=r.querySelectorAll(n);function i(e){c[e].classList.remove("hide"),c[e].classList.add("show")}function l(){c.forEach((e=>{e.classList.remove("show"),e.classList.add("hide")}))}l(),i(0),r.addEventListener("click",(e=>{e.target&&e.target.classList.contains(n.slice(1))&&s.forEach(((t,n)=>{t.classList.remove(o),t==e.target&&(e.target.classList.add(o),l(),i(n))}))}))}(".tabcontent",".tabheader",".tabheader__item","tabheader__item_active"),function(e){function t(e){return e>=0&&e<10?`0${e}`:e}!function(e){const n=document.querySelector("#days"),o=document.querySelector("#hours"),c=document.querySelector("#minutes"),r=document.querySelector("#seconds"),s=setInterval(i,1e3);function i(){const i=function(e){let t,n,o,c;const r=new Date(e)-new Date;return r<0?(t=0,n=0,o=0,c=0):(t=Math.floor(r/864e5),o=Math.floor(r%864e5/36e5),n=Math.floor(r%864e5%36e5/6e4),c=Math.floor(r%864e5%36e5%6e4/1e3)),{time:r,days:t,hours:o,minutes:n,seconds:c}}(e);n.innerHTML=t(i.days),o.innerHTML=t(i.hours),c.innerHTML=t(i.minutes),r.innerHTML=t(i.seconds),i.time<=0&&clearInterval(s)}i()}(e)}("2024-06-09")}))})();
//# sourceMappingURL=bundle.js.map